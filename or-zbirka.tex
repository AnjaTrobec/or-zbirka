\documentclass[a4paper, 11pt, titlepage]{article}
\usepackage[slovene]{babel}
\usepackage[utf8]{inputenc}
\usepackage[slovene]{babelbib}
\usepackage{lmodern}
\usepackage[T1]{fontenc}
\usepackage{microtype}
\usepackage{chngcntr}
\usepackage{environ}
\usepackage{needspace}
\usepackage[small]{caption}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage{amsmath,amssymb,amstext,wasysym}
\usepackage{algorithmicx,algpseudocode}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage{tabularx}
\usepackage{enumerate}
\usepackage{hyperref}
\usepackage{eurosym}
\usepackage{tikz}
\usepackage{pgflibraryshapes}
\usetikzlibrary{calc}
\usetikzlibrary{matrix}
\usetikzlibrary{decorations.pathmorphing}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\A}{\ensuremath{\mathcal{A}}}
\newcommand{\N}{\ensuremath{\mathbb{N}}}
\newcommand{\R}{\ensuremath{\mathbb{R}}}
\newcommand{\Z}{\ensuremath{\mathbb{Z}}}
\newcommand{\p}{\ensuremath{\mathcal{P}}}
\newcommand{\set}[2]{\ensuremath{\left\{ #1 \; \middle| \; #2 \right\}}}
\newcommand{\mm}{\ensuremath{\phantom{|}-\phantom{|}}}
\newcommand{\pp}{\ensuremath{\phantom{|}+\phantom{|}}}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\DeclareUnicodeCharacter{20AC}{\euro}
\DeclareRobustCommand{\officialeuro}{%
  \ifmmode\expandafter\text\fi
  {\fontencoding{U}\fontfamily{eurosym}\selectfont e}}
\newcommand{\ME}{\ensuremath{\operatorname{M€}}}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcounter{naloga}
\counterwithin*{naloga}{subsection}
\renewcommand{\thenaloga}{\arabic{subsection}.\arabic{naloga}}
\newenvironment{naloga}[3][]{\refstepcounter{naloga} \needspace{3\baselineskip}\noindent {\bf Naloga \thenaloga.} \avtor{#2} \naslov{#1} \vir{#3}}{\bigskip}
\newenvironment{slika}[1][t]{\begin{figure}[#1]\centering}{\label{fig:\thislabel}\end{figure}}
\newenvironment{tabela}[1][t]{\begin{table}[#1]\centering}{\label{tab:\thislabel}\end{table}}
\newcommand{\pgfslika}{\leavevmode\beginpgfgraphicnamed{fig-\thislabel}\input{slike/\thislabel.tikz}\endpgfgraphicnamed}

\newcommand{\thislabel}{?}
\newcommand{\nal}[1]{\ref{nal:\if\relax\detokenize{#1}\relax\thislabel\else#1\fi}}
\newcommand{\fig}[1]{\ref{fig:\if\relax\detokenize{#1}\relax\thislabel\else#1\fi}}
\newcommand{\tab}[1]{\ref{tab:\if\relax\detokenize{#1}\relax\thislabel\else#1\fi}}
\newcommand{\podnaslov}[1]{\caption{#1 za nalogo~\nal{}.}}

\begin{document}
\title{Zbirka nalog iz Operacijskih raziskav}
\author{Janoš Vidali}
\maketitle

\section{Naloge}
{
\newcommand{\avtor}[1]{\hfill {\small Avtor: #1}\par}
\newcommand{\naslov}[1]{\if\relax\detokenize{#1}\relax\else\noindent {\small\bf (#1)}\fi}
\newcommand{\vir}[1]{\hfill {\small Vir: #1}\par}
\newenvironment{vprasanje}[1][]{\if\relax\detokenize{#1}\relax\renewcommand{\thislabel}{\thenaloga}\else\renewcommand{\thislabel}{#1}\fi\label{nal:\thislabel}\smallskip\noindent\ignorespaces}{}
\NewEnviron{odgovor}{}
\input{naloge/seznam.tex}
}

\clearpage

\section{Rešitve}
{
\newcommand{\avtor}[1]{}
\newcommand{\naslov}[1]{}
\newcommand{\vir}[1]{}
\NewEnviron{vprasanje}{}
\newenvironment{odgovor}{\noindent\ignorespaces}{}
\input{naloge/seznam.tex}
}

\clearpage

\bibliographystyle{bababbrv-fl}
\bibliography{reference}

\end{document}
