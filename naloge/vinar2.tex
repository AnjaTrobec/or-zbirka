\begin{naloga}{David Gajser}{Izpit OR 9.7.2012}
\begin{vprasanje}
Družina Vinar iz Vurberka že več kot $200$ let prideluje vino.
Njihovi začetki segajo še v čas Habsburžanov,
ko je Janez Vinar od grofa Herbersteina
v dar prejel najlepši vinograd na Vurberku.
Janez je kmalu začel dobivati naročila od okoliških gostincev
in vsako leto je moral razmisliti,
kako bo razdelil svoj pridelek med porabnike.
Danes njegov daljni potomec (prav tako Janez) nadaljuje s tradicijo.

Če je letina dobra (predpostavimo, da je vsako leto dobra letina),
pridela Janez $2\,000$ litrov rumenega muškata,
$10\,000$ litrov laškega rizlinga in $5\,000$ litrov renskega rizlinga.
Njegovi standardni odkupniki sta bara Kocka in Luka
ter župnišče Sv.~Martin in občina Duplek.
V spodnji tabeli je prikazano,
koliko litrov vina je vsak pripravljen (največ) kupiti.
\begin{center}
\begin{tabular}{c|cccc}
kupec & Kocka & Luka & občina & župnišče \\ \hline
količina v litrih & 15\,000 & 5\,000 & 1\,000 & 500
\end{tabular}
\end{center}
Teče drugo leto Janezovega vinogradništva\footnote{
Glej nalogo~\nal[vinar].
}.
To leto se je odločil,
da bo vino prodajal le v flaškonih po $10$ litrov
in postavil fiksne cene, vidne v spodnji tabeli.
\begin{center}
\begin{tabular}{c|ccc}
sorta & rumeni muškat & laški rizling & renski rizling \\ \hline
cena za flaškon & $12 €$ & $8 €$ & $15 €$
\end{tabular}
\end{center}
A ne gre brez omejitev.
Vsak bar zahteva, da Janezu skupno plača največ toliko,
kot mu plačata skupaj župnišče in občina.
V župnišču želijo $500$ litrov vina, ki naj ne bo laški rizling.
V občini želijo vsaj $500$ litrov renskega rizlinga,
drugih sort pa sploh ne bodo kupovali.
Nazadnje se je oglasila še Janezova žena,
ki želi ohraniti doma vsaj toliko sorte $A$,
kot je Janez proda kupcema $B$ in $C$ skupaj.
Toda parametrov v ženini zahtevi nam Janez ne želi zaupati.
Napiši tak celoštevilski linearni program
(tako da lahko Janez vstavi ustrezne ženine parametre),
ki bo Janezu drugo leto pomagal pri prodaji vina,
tako da bo njegov zaslužek kar največji.
\end{vprasanje}

\begin{odgovor}
Uporabili bomo oznake sort in kupcev iz naloge~\res[vinar],
poleg tega pa naj $n_A$ pomeni število flaškonov sorte $A$,
ki jih imamo na voljo.
Za vsako sorto $i \in I$ in kupca $j \in J$
bomo uvedli spremenljivko $x_{ij}$,
ki pove, koliko flaškonov sorte $i$ prodamo kupcu $j$.
Zapišimo celoštevilski linearni program.
\begin{align*}
\max &\ \sum_{j \in J} (12 x_{RM,j} + 8 x_{LR,j} + 15 x_{RR,j})
\quad \text{p.p.} \\
\forall i \in I \ \forall j \in J: \ x_{ij} &\ge 0, \quad x_{ij} \in \Z
\opis{Omejitve za sorte}
\sum_{j \in J} x_{RM,j} &\le 200 \\
\sum_{j \in J} x_{LR,j} &\le 1\,000 \\
\sum_{j \in J} x_{RR,j} &\le 5000
\opis{Omejitve za stranke}
\sum_{i \in I} x_{i,K} &\le 1\,500 \\
\sum_{i \in I} x_{i,L} &\le 500 \\
\sum_{i \in I} x_{i,O} &\le 100 \\
\sum_{i \in I} x_{i,Z} &\le 50
\opis{Omejitvi barov}
12 x_{RM,K} + 8 x_{LR,K} + 15 x_{RR,K}
&\le \sum_{j \in \{O, Z\}} (12 x_{RM,j} + 8 x_{LR,j} + 15 x_{RR,j}) \\
12 x_{RM,L} + 8 x_{LR,L} + 15 x_{RR,L}
&\le \sum_{j \in \{O, Z\}} (12 x_{RM,j} + 8 x_{LR,j} + 15 x_{RR,j})
\opis{Želje glede sort}
x_{RM,Z} + x_{RR,Z} &\ge 50 \\
x_{RM,O} + x_{LR,O} &= 0 \\
x_{RR,O} &\ge 50
\opis{Ženin pogoj}
n_A - \sum_{j \in J} x_{Aj} &\ge x_{AB} + x_{AC}
\end{align*}
\end{odgovor}
\end{naloga}
