\razdelek{Pretoki in prerezi}

\begin{naloga}{?}{Kolokvij OR 19.11.2009}
\begin{vprasanje}[minmaxpretok]
Poišči minimalno vrednost parametra $a$,
da bo pretok skozi omrežje s slike~\fig{} maksimalen.
Utemelji izbiro.

\begin{slika}
\pgfslika
\podnaslov{Omrežje}
\end{slika}
\end{vprasanje}
\begin{odgovor}
\end{odgovor}
\end{naloga}


\begin{naloga}{?}{Kolokvij OR 26.1.2010}
\begin{vprasanje}
Imamo podatke za problem maksimalnega pretoka.
Ali je povezava z najmanjšo kapaciteto
(predpostavimo, da je natanko ena taka)
vedno vsebovana v kakem minimalnem prerezu?
Ali je morda vsebovana celo v vsakem minimalnem prerezu?
\end{vprasanje}
\begin{odgovor}
\end{odgovor}
\end{naloga}


\begin{naloga}{?}{Kolokvij OR 5.2.2010}
\begin{vprasanje}[lenority]
Na univerzi v mestu Lenority so asistenti res nekoliko razvajeni
in imajo močen sindikat.
(To ni nič nenavadnega, če pa univerza zahteva,
da se izpiti začnejo že ob sedmih zjutraj!)
Bliža se izpitno obdobje in potrebno je paziti izpite.
Za vsak dan so izpiti dani vnaprej.
Znano je, da asistenti ne pazijo izpitov, če so vmes ``luknje'',
saj si je to pravico izboril njihov sindikat.
Vodstvu univerze tako ne preostane nič drugega, kot da to upošteva.
Asistenti torej pridejo na faks ob neki uri,
pazijo poljubno dolgo zaporedje izpitov brez odmorov, in potem gredo domov.
Izpiti so podani v obliki časovnih intervalov,
ki se začnejo in končajo ob polni uri.
Upoštevajoč te pogoje mora vodstvo univerze venomer prositi asistente,
naj pridejo pazit izpite.
Toda tudi vodstvo si želi minimizirati ``bolečino'' ob moledovanju
in hoče vsak dan prositi kar se da malo asistentov,
naj vendarle pridejo pazit izpite.

\begin{enumerate}[(a)]
\item Modeliraj problem s pomočjo usmerjenih acikličnih grafov,
pri katerih so intervali predstavljeni z vozlišči.
Identificiraj, kaj je tvoja optimizacijska naloga na takem grafu.

\item Opiši, kako problem prevedeš na problem maksimalnih pretokov.
Natančno utemelji,
zakaj so maksimalni pretoki v tvojem modelu v bijektivni korespondenci
z optimalnimi rešitvami tvoje optimizacijske naloge.

\item S pomočjo algoritma iz prejšnje točke reši problem za petkove izpite,
ki so podani z intervali $(7, 8)$, $(8, 9)$, $(9, 10)$, $(8, 12)$,
$(10, 13)$, $(12, 15)$, $(13, 15)$, $(9, 12)$, $(7, 10)$.
\end{enumerate}
\end{vprasanje}
\begin{odgovor}
\end{odgovor}
\end{naloga}

\begin{naloga}{?}{Izpit OR 28.6.2010}
\begin{vprasanje}[pretokx]
Na sliki~\fig{} je podano enoparametrično omrežje
za problem največjega pretoka.
Parameter $x$ je poljubno nenegativno število.

\begin{enumerate}[(a)]
\item Kakšno je pridruženo omrežje,
če začnemo z ničelnim $(s, t)$-tokom
in ga najprej povečamo vzdolž povečujoče poti $s-a-c-d-t$
ter nato še vzdolž povečujoče poti $s-c-d-b-t$?

\item Poišči maksimalni $(s, t)$-tok in minimalni $(s, t)$-prerez.

\item Kapaciteto ene povezave vhodnega omrežja lahko povečamo za $1$.
Kateri povezavi naj povečamo kapaciteto,
da bo vrednost maksimalnega $(s, t)$-toka v spremenjenem omrežju čim večja?
Odgovor je načeloma odvisen od vred\-no\-sti parametra $x$.
\end{enumerate}

\begin{slika}
\pgfslika
\podnaslov{Omrežje}
\end{slika}
\end{vprasanje}
\begin{odgovor}
\end{odgovor}
\end{naloga}


\begin{naloga}{?}{Izpit OR 15.9.2010}
\begin{vprasanje}[terminali]
Na sliki~\fig{} je podano omrežje enosmernih prehodov
med letališkimi terminali skupaj s prepustnostmi (v $1000$ ljudeh na uro).

\begin{enumerate}[(a)]
\item Načrtovalce zanima,
koliko največ potnikov na uro lahko preide med terminaloma $F$ in $B$.
Predlagaj ustrezen algoritem in ga izvedi na grafu.

\item V izrednih razmerah dva terminala proglasijo za vstopna
(na njih letala le pristajajo),
ostale terminale pa za izstopne (letala le vzletajo).
Tako morajo potniki nujno prehajati od vstopnih k izstopnim terminalom.
Strateška odločitev je, da je vstopni terminal $F$,
zaradi redundance pa želijo, da bi bila vstopna terminala dva.
Ostali terminali so torej izstopni.
Katerega izmed terminalov (poleg $F$) se splača še proglasiti za vstopnega,
da bo pretočnost med vhodnimi in izhodnimi terminali kar največja?
\end{enumerate}

\begin{slika}
\pgfslika
\podnaslov{Omrežje}
\end{slika}
\end{vprasanje}
\begin{odgovor}
\end{odgovor}
\end{naloga}


\begin{naloga}{?}{Kolokvij OR 25.11.2010}
\begin{vprasanje}[greedyflow]
Nov in neizkušen predavatelj Operacijskih raziskav se odloči,
da bo poenostavil Ford-Fulkersonov algoritem.
Študentom pove,
naj za iskanje maksimalnega pretoka na omrežju s končnimi kapacitetami
uporabijo naslednji algoritem:
\begin{small}
\begin{algorithmic}
\Function{Greedyflow}{$G = (V, E), u, s, t$}
    \For{$e \in E$}
        \State $f(e) \gets 0$
    \EndFor
    \While{obstaja pot od $s$ do $t$}
        \State $P \gets$ poljubna pot od $s$ do $t$
        \State $\gamma \gets$ minimalna kapaciteta povezav poti $P$
        \For{$e \in P$}
            \State $f(e) \gets f(e) + \gamma$
            \If{$u(e) = \gamma$}
                \State odstrani $e$ iz $G$
            \Else
                \State $u(e) \gets u(e) - \gamma$
            \EndIf
        \EndFor
    \EndWhile
    \State \Return $f$
\EndFunction
\end{algorithmic}
\end{small}

\begin{enumerate}[(a)]
\item Dokaži,
da lahko na grafu s slike~\fig{}
z uporabo algoritma {\sc Greedyflow} dobimo pravilno rešitev.

\item Poišči primer omrežja in izbire poti,
tako da algoritem {\sc Greedyflow} ne da pravilnega rezultata.

\item Ali za vsako omrežje obstaja taka izbira poti,
da bo algoritem {\sc Greedyflow} dal maksimalni pretok?

\item Dokaži, da je razlika med maksimalnim pretokom in pretokom,
ki ga vrne algoritem {\sc Greedyflow}, lahko poljubno velika.
\end{enumerate}

\begin{slika}
\pgfslika
\podnaslov{Graf}
\end{slika}
\end{vprasanje}
\begin{odgovor}
\end{odgovor}
\end{naloga}


\begin{naloga}{?}{Izpit OR 9.2.2011}
\begin{vprasanje}
\begin{enumerate}[(a)]
\item Poišči usmerjen graf $G$, vozlišči $s$, $t$ in kapacitete povezav,
da bo imel $G$ natanko en minimalen $(s, t)$-prerez.

\item Poišči usmerjen graf $G$, vozlišči $s$, $t$ in kapacitete povezav,
da bo imel $G$ več minimalnih $(s, t)$-prerezov.

\item Poišči usmerjen graf $G_n$, vozlišči $s$, $t$ in kapacitete povezav,
da bo imel $G_n$ natanko $n$ minimalnih $(s, t)$-prerezov.
\end{enumerate}
\end{vprasanje}
\begin{odgovor}
\end{odgovor}
\end{naloga}


\begin{naloga}{?}{Izpit OR 28.6.2011}
\begin{vprasanje}
Navdušenje nad koncem študijskega leta na ljubljanski univerzi
je botrovalo temu,
da v ambulanti Univerzitetne klinike
$169$ študentov išče nujno zdravniško pomoč.
Vsak od študentov potrebuje eno enoto krvi,
klinika pa ima na zalogi $170$ enot krvi.
V spodnji tabeli je prikazano število enot krvi posamezne krvne skupine,
ki so na zalogi,
in število študentov z dano krvno skupino.
\begin{center}
\begin{tabular}{l|cccc}
Krvna skupina &  A &  B &  O & AB \\ \hline
Zaloga        & 46 & 34 & 45 & 45 \\
Povpraševanje & 39 & 38 & 42 & 50
\end{tabular}
\end{center}
Osebe s krvno skupino A lahko prejmejo kri tipa A ali O.
Osebe tipa B lahko prejmejo kri tipa B ali O.
Osebe tipa O lahko prejmejo samo kri tipa O.
Osebe tipa AB lahko prejmejo katerokoli krvno skupino.
Naša naloga je razporediti enote krvi tako,
da bomo z njo oskrbeli kar se da veliko število študentov.
Iz podatkov sestavi omrežje
in modeliraj nalogo kot problem maksimalnega pretoka.
Največ koliko pacientov lahko oskrbimo?
Utemelji.
\end{vprasanje}
\begin{odgovor}
\end{odgovor}
\end{naloga}


\begin{naloga}{?}{Kolokvij OR 4.5.2012}
\begin{vprasanje}[zajetje]
Iz zajetja $O$ želimo preko treh čistilnih postaj
(vsako predstavljajo $4$ vozlišča)
napeljati vodo do tovarne $T$.
Opravka imamo z vodovodnim omrežjem,
pred\-stav\-lje\-nim z grafom na sliki~\fig{}.
Na povezavah so kapacitete cevi (v litrih na sekundo),
cevi z oznakami $a_1$, $a_2$ in $a_3$ pa še niso zgrajene.

\begin{enumerate}[(a)]
\item Koliko vode lahko po danem omrežju dobi tovarna na sekundo?

\item Trenutni dotok vode v tovarno za potrebe proizvodnje ni dovolj velik,
zato razmišljajo o izgradnji novih cevi.
Možne lokacije novih cevi so $a_1$, $a_2$ in $a_3$.
Uprava tovarne se je odločila,
da bodo s postavitvijo novih cevi na nekaterih možnih lokacijah
povečali pretok kar največ, kot je mogoče.
Cev kapacitete $k$ stane $k \cdot 100 €$.
Za inštalacijo ene cevi morajo plačati dodatnih $10000 €$.
Koliko najmanj jih bo stal projekt?
\end{enumerate}

\begin{slika}
\makebox[\textwidth][c]{
\pgfslika
}
\podnaslov{Omrežje}
\end{slika}
\end{vprasanje}
\begin{odgovor}
\end{odgovor}
\end{naloga}


\begin{naloga}{?}{Kolokvij OR 4.5.2012}
\begin{vprasanje}
Na divjem žuru matematikov se je zbralo $n$ ljudi.
Organizator je priskrbel $s$ različnih vrst sendvičev,
a ne v neomejenih količinah.
Na voljo imajo $u_i$ sendvičev sorte $i$ ($1 \le i \le s$).
Prav tako imajo na voljo $p$ različnih sokov;
$w_i$ predstavlja število sokov sorte $i$ ($1 \le $i$ \le p$).
Za vsakega udeleženca zabave je znano,
katere sokove in sendviče ima rad.

\begin{enumerate}[(a)]
\item Zanima nas, ali lahko hrano in pijačo razdelimo tako,
da dobi vsak udeleženec zabave en sendvič, ki ga ima rad,
in en sok, ki ga ima rad.
Nalogo formuliraj kot problem maksimalnega pretoka v ustreznem grafu.
Jasno napiši, kako iz dobljenega maksimalnega toka ugotovimo,
ali želena razdelitev hrane in pijače obstaja.

\item S pomočjo formulacije iz prejšnje točke
reši nalogo za naslednje konkretne podatke:
\begin{center}
\begin{tabular}{c|ccc|c}
Vrsta soka & Količina & \quad & Vrsta sendviča & Količina \\
\cline{1-2} \cline{4-5}
Ananas          & 1 && Pohanček & 1 \\
Črni ribez      & 1 && Šoferski & 1 \\
Rdeča pomaranča & 2 && Kraški   & 2 \\
Jagoda          & 2 && Vegi     & 1 \\
Borovnica       & 2
\end{tabular}

\bigskip
\begin{tabular}{c|c|c}
Ime & Seznam sokov & Seznam sendvičev \\ \hline
Damir   & ananas, jagoda                & pohanček, šoferski       \\
Jasna   & ananas, črni ribez, jagoda    & kraški, vegi             \\
Bernard & črni ribez, jagoda            & vegi, pohanček, šoferski \\
Matjaž  & ananas, rdeča pomaranča       & kraški, vegi             \\
Sanela  & borovnica, črni ribez, jagoda & vegi                     \\
Patrik  & borovnica, jagoda             & kraški, vegi
\end{tabular}
\end{center}
\end{enumerate}
\end{vprasanje}
\begin{odgovor}
\end{odgovor}
\end{naloga}


\begin{naloga}{?}{Izpit OR 26.6.2012}
\begin{vprasanje}[mafija]
V nekem velikem mehiškem mestu je center mesta sestavljen iz ulic,
ki so pravokotne ena na drugo
in iz ptičje perspektive izgledajo kot pravokotna karirasta mreža.
Vse banke se nahajajo v centru,
in sicer tik ob križiščih (v vsakem križišču kvečjemu ena banka).
Križišča so označena s svojimi koordinatami v mreži.
V tem mestu so ropi bank zelo pogosti.
Tako pogosti, da se včasih roparji na begu zaletijo med seboj
(saj bežijo pred policijskimi vozili pri veliki hitrosti).
Če ropar uspe pripeljati do ulice, ki vodi ven iz centra, je ``rešen'',
saj center obdajajo slumi, kjer policija nima moči,
saj jih nadzirajo mafijski botri.
Roparji so se sestali na Veliki mafijski konferenci
in sklenili temu kaosu narediti konec.
Odločili so se, da bodo naročili informacijski sistem,
kamor bodo vsak večer vnesli lokacije bank, ki jih nameravajo oropati,
program pa jim bo sestavil načrt ropov za naslednji dan.
Rope je mogoče izvesti, če:
\begin{itemize}
\item so vse lokacije bank različne
(dve ekipi ne smeta na isti dan oropati iste banke), in
\item za vsako lokacijo obstaja pot, ki pelje ven iz centra,
tako da nobeni dve poti ne gresta vzdolž iste ulice
(s tem poskušamo preprečiti, da bi se roparji medsebojno zaleteli;
smer vožnje pri tem ni pomembna).
\end{itemize}
Opiši algoritem, ki bo kot vhod dobil celi števili $n$ in $m$,
ki predstavljata število vodoravnih in navpičnih ulic,
ter seznam lokacij bank $L$.
Algoritem naj vrne seznam poti,
po katerih bodo roparji bežali (za vsako lokacijo po eno pot).
Če vseh ropov ni mogoče izvesti, naj algoritem javi napako.

Za $n = 7$, $m = 6$ in
$$
L = \{(4, 5), (4, 4), (4, 3), (6, 4), (7, 4),
      (2, 5), (6, 5), (2, 4), (2, 3), (6, 3)\}
$$
lahko dobimo na primer poti, podane na sliki~\fig{}.

\begin{slika}
\pgfslika
\podnaslov{Shema ulic in bank ter primer izhoda}
\end{slika}
\end{vprasanje}
\begin{odgovor}
\end{odgovor}
\end{naloga}
