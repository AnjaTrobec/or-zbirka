\begin{naloga}{Janoš Vidali}{Izpit OR 28.8.2018}
\begin{vprasanje}
Dano je odločitveno drevo s slike~\fig,
pri čemer velja $0 \le p \le 1$.
Pričakovano vred\-nost želimo maksimizirati.
Poišči optimalne odločitve in pričakovano vrednost
v odvisnosti od vrednosti parametra $p$.

\begin{slika}
\pgfslika
\podnaslov{Odločitveno drevo}
\end{slika}
\end{vprasanje}

\begin{odgovor}
Izračunajmo najprej pričakovane vrednosti v vozliščih $C$, $F$ in $G$
odločitvenega drevesa s slike~\fig.
\begin{alignat*}{2}
C &= 0.5 \cdot (40 p + 20) &&= 20p + 10 \\
F &= 50 \cdot p - 10 \cdot (1-p) &&= 60 p - 10 \\
G &= - 30 \cdot p + 30 \cdot (1-p) &&=  -60p + 30
\end{alignat*}

Obravnavajmo najprej odločitev v vozlišču $D$.
Za pot k vozlišču $F$ se odločimo,
če velja $60p - 10 \ge -5$ oziroma $p \ge 1/12$.

Obravnavajmo sedaj še odločitev v vozlišču $E$.
Za pot k vozlišču $G$ se odločimo,
če velja $-60p + 30 \ge -5$ oziroma $p \le 7/12$.

Pričakovana vrednost v vozlišču $B$ bo sledeča.
\begin{align*}
p &< {1 \over 12}: & 0.9 \cdot (-5) + (-60p + 30) \cdot 0.1 &= -1.5 - 6p \\
\frac{1}{12} \leq p &\le \frac{7}{12}: &
0.9 \cdot (60p - 10) + 0.1 \cdot (-60p + 30) &= -6 + 48p \\
p &> \frac{7}{12}: & 0.9 \cdot (60p - 10) + 0.1 \cdot (-5) &= -9.5 + 54 p
\end{align*}

Obravnavajmo sedaj še odločitev v vozlišču $A$.
\begin{align*}
0 \leq p &< \frac{1}{12}: & \max \{ -1.5 - 6p, 20p + 10 \} &= 20p + 10 \\
\frac{1}{12} \leq p &\le \frac{7}{12} : & \max \{ -6 + 48p, 20p + 10 \} &= 
\begin{cases}
20p + 10 & p < \frac{4}{7} \\
-6 + 48p & p \ge \frac{4}{7}
\end{cases} \\
p &> \frac{7}{12} : & \max \{ -9.5 + 54p, 20p + 10 \} &= -9.5 + 54p 
\end{align*}

Proces odločanja je prikazan na sliki~\fig[dectree3-resitev].

\begin{slika}
\pgfslika[dectree3-resitev]
\podnaslov[\res v odvisnosti od vrednosti parametra $p$]{Odločitveno drevo}
\end{slika}


\end{odgovor}
\end{naloga}
